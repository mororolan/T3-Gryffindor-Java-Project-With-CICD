<?xml version="1.0" encoding="UTF-8" ?>

<project name="VendingMachine" default="run" basedir=".">
    <!--<property />define variable-->
    <property name="src" value="src"/>
    <property name="dest" value="result"/>
    <property name="testResult" value="testResult"/>
    <property name="testResultFile" value="testResultFile"/>
    <property name="result_app" value="vendingMachine.jar"/>
    <!--    <property name="CustomerPanelTest" value="test.team3.Gryffindor.VM.CustomerPanelTest"/>-->
    <!--    <property name="MachinerySimulatorPanelTest" value="./test/team3.Gryffindor.VM/MachinerySimulatorPanelTest"/>-->
    <!--    <property name="MachinerySimulatorPanelTest" value="./test/team3/Gryffindor/VM/MachinerySimulatorPanelTest.java"/>-->
    <property name="MachinerySimulatorPanelTest" value="MachinerySimulatorPanelTest.java"/>
    <!--    <property name="MaintainerPanelTest" value="test.team3.Gryffindor.VM.MaintainerPanelTest"/>-->
    <!--    <property name="SimulatorControlPanelTest" value="test.team3.Gryffindor.VM.SimulatorControlPanelTest"/>-->

    <!--new folder-->
    <target name="init">
        <mkdir dir="${dest}"/>
    </target>
    <!--begin compile-->
    <target name="compile" depends="init">
        <javac srcdir="${src}" destdir="${dest}"/>
    </target>
    <!--create jar-->
    <target name="build" depends="compile">
        <jar jarfile="${result_app}" basedir="${dest}"/>
    </target>
    <!--begin to run-->
    <target name="run" depends="build">

        <junit haltonfailure = "yes" printsummary = "true">
            <classpath location="./jars/junit-4.11.jar"/>
            <classpath location="./jars/hamcrest-core-1.3.jar"/>
            <test name="MachinerySimulatorPanelTest"/>
            <!--            <test name = "${MachinerySimulatorPanelTest}"/>-->
        </junit>
    </target>

    <!-- Define the classpath which includes the junit.jar and the classes after compiling -->
    <!--    <path id="junit.class.path">-->
    <!--        <pathelement location="./jars/junit-4.11.jar" />-->
    <!--        <pathelement location="/jars/hamcrest-core-1.3.jar" />-->
    <!--    </path>-->

    <!--    &lt;!&ndash; Run the JUnit Tests &ndash;&gt;-->
    <!--    &lt;!&ndash; Output is XML, could also be plain &ndash;&gt;-->
    <!--    <target name="junit" depends="compile">-->
    <!--        <junit printsummary="on" fork="true" haltonfailure="yes">-->
    <!--            <classpath refid="junit.class.path" />-->
    <!--            <formatter type="xml" />-->
    <!--            <batchtest todir="test">-->
    <!--                <fileset dir="test/team3/Gryffindor/VM">-->
    <!--                    <include name="MachinerySimulatorPanelTest.java" />-->
    <!--                </fileset>-->
    <!--            </batchtest>-->
    <!--        </junit>-->
    <!--    </target>-->

    <!--    &lt;!&ndash;删除生成的文件&ndash;&gt;-->
    <!--    <target name="clean" depends="run">-->
    <!--        <delete dir="${result}"/>-->
    <!--        <delete file="${test_jar}"/>-->
    <!--    </target>-->
    <!--    <target name="rerun" depends="clean,run">-->
    <!--        <ant target="clean" />-->
    <!--        <ant target="run" />-->
    <!--    </target>-->

</project>
